<!DOCTYPE html>
<html>

<head>
    <title>ruff-mbd-v1 自救指南</title>

    <style>

    /*#bu1 {
    position: relative;
    top: 10px;
    left: 20px;
}

    #bu2 {
    position: relative;
    top: 10px;
    left: 40px;
}*/

    /*#scroll-tab-5-progress {
    position: relative;
    top: 20px;
    }*/

    </style>


    <meta charset="utf-8">
    <script src="./js/material.min.js"></script>
    <link rel="stylesheet" href="./css/material.indigo-pink.min.css">
    <link rel="stylesheet" href="./css/base.css">
    <script src="./js/serial-mode.js"></script>
    <script>
        window.$ = window.jQuery = require("./js/jquery-3.1.1.js");
    </script>

    <script>
        var selectSerial = require('electron').remote.getGlobal('sharedObject').selectedSerial
        console.log(selectSerial)

        $(document).ready(function () {
            $("#selectSerialList").change(function () {
                selectSerial = $("#selectSerialList").val();
            })
        });

        function progressDisplay(tab) {
            document.getElementById(tab).style.display = "block";
        }

        function progressDisplayNone(tab) {
            document.getElementById(tab).style.display = "none";
        }

        process.on('uncaughtException', function(err){
            if (err.message == 'No path specified') {
                // progressDisplay('scroll-tab-1-output')
                // progressDisplay('scroll-tab-2-output')
                // progressDisplay('scroll-tab-3-output')
                progressDisplay('scroll-tab-4-output')
                progressDisplay('scroll-tab-5-output')
                progressDisplay('scroll-tab-7-output')


                // document.getElementById('scroll-tab-1-output').innerHTML = '<h1>' + '请确认串口正常工作' + '</h1>'
                // document.getElementById('scroll-tab-2-output').innerHTML = '<h1>' + '请确认串口正常工作' + '</h1>'
                // document.getElementById('scroll-tab-3-output').innerHTML = '<h1>' + '请确认串口正常工作' + '</h1>'
                document.getElementById('scroll-tab-4-output').innerHTML = '<h1>' + '请确认串口正常工作' + '</h1>'
                document.getElementById('scroll-tab-5-output').innerHTML = '<h1>' + '请确认串口正常工作' + '</h1>'
                document.getElementById('scroll-tab-7-output').innerHTML = '<h1>' + '请确认串口正常工作' + '</h1>'

            }
        });

    </script>


    <!-- Simple header with scrollable tabs. -->
    <div class="mdl-layout mdl-js-layout mdl-layout--fixed-header">
        <header class="mdl-layout__header">
            <div class="mdl-layout__header-row">
                <!-- Title -->

                <span class="mdl-layout-title">
                    当前选择串口为 <i class="material-icons">usb</i><script>document.write(selectSerial);</script>
            <!--<div class="mdl-select mdl-js-select mdl-select&#45;&#45;floating-label">-->
                <!--<select class="mdl-select__input" id="selectSerialList" name="selectSerialList">
                    <option value="">#选择串口</option>
                </select>-->
                    <!--</div>-->
                </span>
            </div>
            <!-- Tabs -->
            <div class="mdl-layout__tab-bar mdl-js-ripple-effect">
                <!--<a href="#scroll-tab-1" class="mdl-layout__tab"
                   onclick="progressDisplayNone('scroll-tab-1-output');progressDisplay('scroll-tab-1-progress');serialGetVersion();">版本</a>
                <a href="#scroll-tab-2" class="mdl-layout__tab"
                   onclick="progressDisplayNone('scroll-tab-2-output');progressDisplay('scroll-tab-2-progress');serialGetWiFi();">WiFi</a>
                <a href="#scroll-tab-3" class="mdl-layout__tab"
                   onclick="progressDisplayNone('scroll-tab-3-output');progressDisplay('scroll-tab-3-progress');serialGetEthernet();">以太网</a>-->
                <a href="#scroll-tab-7" class="mdl-layout__tab" onclick="progressDisplayNone('scroll-tab-7-output');progressDisplay('scroll-tab-7-progress');serialGetInfo()">板卡信息</a>
                <a href="#scroll-tab-4" class="mdl-layout__tab" onclick="confirm_serialResetSystem();">板卡重置</a>
                <a href="#scroll-tab-5" class="mdl-layout__tab" onclick="progressDisplayNone('scroll-tab-5-progress');">板卡日志</a>
                <!--<a href="#scroll-tab-5" class="mdl-layout__tab" onclick="progressDisplayNone('scroll-tab-5-output');confirm_resetGetBootLog()">板卡日志</a>-->

                <!--<a href="#scroll-tab-6" class="mdl-layout__tab">帮助</a>-->

            </div>
        </header>

        <div class="mdl-layout__drawer">

            <span class="mdl-layout-title">It's Ruff</span>
              <div>
                    <button id="bu3" class="mdl-button mdl-js-button">
                    访问 Ruff 论坛
                    </button>
                </div>
            </div>
        <main class="mdl-layout__content">

            <!--<section class="mdl-layout__tab-panel" id="scroll-tab-1">
                <div class="page-content">
                    <div id="scroll-tab-1-progress"
                         class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
                    <div id="scroll-tab-1-output"></div>
                </div>
            </section>

            <section class="mdl-layout__tab-panel" id="scroll-tab-2">
                <div class="page-content">
                    <div id="scroll-tab-2-progress"
                         class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
                    <div id="scroll-tab-2-output"></div>
                </div>
            </section>

            <section class="mdl-layout__tab-panel" id="scroll-tab-3">
                <div class="page-content">
                 <div id="scroll-tab-3-progress"
                         class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
                    <div id="scroll-tab-3-output"></div>
                </div>
            </section>-->

            <section class="mdl-layout__tab-panel" id="scroll-tab-4">
                <div class="page-content">
                 <div id="scroll-tab-4-progress"
                         class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
                    <div id="scroll-tab-4-output"></div>
                </div>
            </section>

            <section class="mdl-layout__tab-panel" id="scroll-tab-5">
                <div class="page-content">
                    <div id="scroll-tab-5-progress"
                         class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
                     <!--Raised button -->
                    <!--<button id="bu1" class="mdl-button mdl-js-button mdl-button--raised" onclick="progressDisplayNone('scroll-tab-5-output');progressDisplay('scroll-tab-5-progress');serialGetLog()">
                    运行日志
                    </button>-->
                     <!--Raised button -->
                    <div><h5>注意：获取日志需要重启开发板</h5></div>
                    <button id="bu1" class="mdl-button mdl-js-button mdl-button--raised" onclick="progressDisplayNone('scroll-tab-5-output');confirm_resetGetBootLog()">
                    获取日志
                    </button>
                    <div id='scroll-tab-5-output'></div>

                    <!--<div id="scroll-tab-5-output-boot-log"></div>-->
                    <!--<div id="scroll-tab-5-output-run-log"></div>-->



                </div>
            </section>

              <section class="mdl-layout__tab-panel" id="scroll-tab-7">
                <div class="page-content">
                 <div id="scroll-tab-7-progress"
                         class="mdl-progress mdl-js-progress mdl-progress__indeterminate"></div>
                    <div id="scroll-tab-7-output">
                    <div id="scroll-tab-7-output-version"></div>
                    <div id="scroll-tab-7-output-wifi"></div>
                    <div id="scroll-tab-7-output-ethernet"></div>
                    </div>
                </div>
            </section>

        </main>
    </div>
</head>

<script>

const shell = require('electron').shell

const exLinksBtn = document.getElementById('bu3')
exLinksBtn.addEventListener('click', function (event) {
  shell.openExternal('http://community.ruff.io')
})

</script>


<body>
</body>

</html>